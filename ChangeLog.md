ROGv - Forts Watching System : Server
===============

ChangeLog
---------------
#### ver5.2
- 新規：データのexportスクリプトを追加（新システム移行用）

#### ver5.1
- 修正：ギルド選択する各画面で、リストのデフォルトを最近のギルドに修正（切り替え可能）

#### ver5.0
- 新規：GvTEモードを追加
- 新規：GvTEモードに関わる設定を追加
- 新規：期間を指定したギルドタイムライン分析を追加

- 修正：デザインの調整（ナビゲーションバーの追加や見出しの追加等）
- 修正：タイムラインTOPのURIを変更（'/t/d' -> '/t'）
- 修正：期間を指定したギルドタイムラインに関する設定を追加
- 修正：その他、細かいバグfix

- TEモードについて
 - 主に表示に関わる部分の修正
 - データ構造そのものは既存と同じ
 - コードは共通だが、環境は別で動かすことを想定
 - データスキーマを別にしないと、FEとTEが混在しておかしなことに
 - 「Gv時間」は土曜の19:50-22:10で定義

#### ver4.1
- 修正：gemのバージョンを変更
- 修正：4.0で廃止したconfig.ymlを削除
- 修正：対象でない砦のみを含む送信データを拒否（TE対応に向けた布石）
- 修正：セッションの定義方法を変更
- 修正：セッションのexpireが動作しなかった問題を修正
- 修正：管理系セッションが複数のROGv環境で共有されていた問題を修正
- 修正：先週の戦況データが存在しない場合に結果データを構築する挙動を修正

#### ver4.0
- 修正：BootstrapとjQueryのバージョンを変更
- 修正：gemのバージョンを変更

- 修正：設定項目を全体に見直し（詳細はNOTEを参照）

- バグ：管理系のセッションが維持できない（ver4.1で修正）

#### ver3.4
- 新規：砦取得結果の手動入力を追加（非参加時にも結果だけは入力可能に）

- 修正：Gv時間中に結果データをキャッシュしないように修正
- 修正：砦取得履歴の計算時、キャッシュによって異常になる問題を修正

#### ver3.3
- 新規：砦取得履歴表示機能を追加

- 修正：Timelineの日付一覧を最近のn件で絞り込めるように修正
- 修正：「Gv時間」の定義を厳密に変更（日曜の19:50-22:10）
- 修正：Timelineにおける日付処理にキャッシュを適用して高速化

#### ver3.2
- 新規：砦タイムラインをキャッシュ対象に追加
- 新規：ギルドタイムラインをキャッシュ対象に追加
- 新規：管理系にタイムラインのキャッシュクリア機能を追加
- 新規：管理系に結果管理機能を追加

- 修正：タイムラインの処理方法を変更
- 修正：砦個別のタイムライン（例：V1のみ）閲覧機能を削除

#### ver3.1
- 新規：管理系にキャッシュクリア機能を追加

- 修正：一部結果画面でキャッシュが使われなかったバグを修正
- 修正：キャッシュクリアスクリプトの名称を変更

- その他：rogv_viewerに結果データを送信する仕組みを追加

#### ver3.0
- 新規：分析系に結果閲覧機能を追加
- 新規：結果集計関連スクリプトを追加

- 修正：全体の画面遷移や構成を見直し（URIを全体に変更して整理）
- 修正：管理ツールの入り口をメニューに変更
- 修正：Timeline系における「前の週」を厳密に「7日前」に変更

- その他：全体にコードの配置等を整理

- 未実装：スクリプトとして実装した処理を管理系から実行する機能

#### ver2.4
- 砦Timelineにおいて、最初の時間に対するデータ表示が適切でなかったのを修正
- その他、ver3系へ向けたコード整理等

#### ver2.3
- 管理系追加
 - ログインが必須
- 履歴データのバックアップ関連機能追加
 - バックアップの実行/ダウンロード/削除が可能

- 本バージョンよりsessionを使用するため、session_secretの書き換えが必要
 - これを怠って攻撃を受けても知りません
- 既知の問題：session有効期間が定義されない？

#### ver2.2
- Gv時間とその前後1時間はキャッシュを利用しないように修正

#### ver2.1
- 一部でPadrino::Cacheを使うように修正
- Cacheの使用設定をconfigに追加
- ギルド単体のTimeline閲覧時、マルチバイトが正しくdecodeされていなかったのを修正

#### ver2.0
- 基盤をSinatraからPadrinoに変更
- バグ：ギルド単体のTimelineが閲覧できない（ver2.1で修正）

#### ver1.2
- dump系の仕組みを追加
- ディレクトリ構造を変更

#### ver1.1
- 複数の更新クライアントを考慮した処理に変更
- データ割り込みを追加
- 参照専用モードを追加

#### ver1.0
- 公開版
